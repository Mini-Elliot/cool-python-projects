<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>EAH Dashboard</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
        />

        <style>
            body {
                min-height: 100vh;
                display: flex;
                flex-direction: column;
            }

            .sidebar {
                width: 240px;
                height: 100vh;
                position: fixed;
                top: 0;
                left: 0;
                padding-top: 60px;
                background-color: #343a40;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
            }

            .sidebar .nav-link {
                color: #adb5bd;
            }

            .sidebar .nav-link.active {
                color: #fff;
                background-color: #495057;
            }

            .sidebar-bottom {
                padding: 15px;
                border-top: 1px solid #495057;
            }

            .main-content {
                margin-left: 240px;
                padding: 60px 30px 30px;
            }
        </style>
    </head>
    <body>
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
            <div class="container">
                <a class="navbar-brand fw-bold" href="#">EAH Dashboard</a>
            </div>
        </nav>

        <!-- Sidebar -->
        <div class="sidebar">
            <div>
                <h5 class="text-light mb-4 ps-3">Menu</h5>
                <ul class="nav nav-pills flex-column mb-auto" id="sidebarMenu">
                    <li>
                        <a
                            class="nav-link active"
                            href="#"
                            data-target="overview"
                            >Overview</a
                        >
                    </li>
                    {% if user_role in ['Admin', 'Moderator'] %}
                    <li>
                        <a class="nav-link" href="#" data-target="users"
                            >Manage Users</a
                        >
                    </li>
                    {% endif %}
                    <li>
                        <a class="nav-link" href="#" data-target="bookings"
                            >Bookings</a
                        >
                    </li>
                    <li>
                        <a class="nav-link" href="#" data-target="rooms"
                            >Rooms</a
                        >
                    </li>
                    <li>
                        <a class="nav-link" href="#" data-target="analytics"
                            >Analytics</a
                        >
                    </li>
                    <li>
                        <a class="nav-link" href="#" data-target="reports"
                            >Reports</a
                        >
                    </li>
                    <li>
                        <a class="nav-link" href="#" data-target="messages"
                            >Messages</a
                        >
                    </li>
                </ul>
            </div>

            <div class="sidebar-bottom">
                {% if user_role == 'Admin' %}
                <a class="nav-link mb-2" href="#" data-target="settings"
                    >Settings</a
                >
                {% endif %}
                <a class="nav-link text-danger" href="{{ url_for('logout') }}"
                    >Logout</a
                >
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div id="overview" class="content-section">
                <h1>Welcome, {{ user_name }}!</h1>
                <p>
                    This is your dashboard. You can manage bookings, view rooms,
                    and track reservations here.
                </p>
                <div class="alert alert-info mt-4">
                    Hotel table and booking system will be integrated here.
                </div>
            </div>

            <div id="users" class="content-section d-none">
                <h2>Manage Users</h2>
                <p>Admins and moderators can manage user accounts here.</p>
                <div class="alert alert-secondary">
                    User management table goes here (CRUD operations).
                </div>
            </div>

            <div id="bookings" class="content-section d-none">
                <h2>Bookings</h2>
                <p>View and manage all hotel bookings.</p>
                <div class="alert alert-secondary">
                    Booking table will be implemented here.
                </div>
            </div>

            <div id="rooms" class="content-section d-none">
                <h2>Rooms</h2>
                <p>View and manage hotel rooms and availability.</p>
                <div class="alert alert-secondary">
                    Room management table goes here.
                </div>
            </div>

            <div id="analytics" class="content-section d-none">
                <h2>Analytics</h2>
                <p>Overview of bookings, revenue, and room occupancy.</p>
                <div class="alert alert-secondary">
                    Charts and metrics will be integrated here.
                </div>
            </div>

            <div id="reports" class="content-section d-none">
                <h2>Reports</h2>
                <p>Download monthly and yearly reports.</p>
                <div class="alert alert-secondary">
                    Report export table goes here.
                </div>
            </div>

            <div id="messages" class="content-section d-none">
                <h2>Messages</h2>
                <p>Communicate with guests and staff.</p>
                <div class="alert alert-secondary">
                    Messaging system interface goes here.
                </div>
            </div>

            <div id="settings" class="content-section d-none">
                <h2>Settings</h2>
                <p>Admin-only settings for the platform.</p>
                <div class="alert alert-secondary">
                    Application configuration, roles, and permissions.
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
        <script>
            const links = document.querySelectorAll(".sidebar .nav-link");
            const sections = document.querySelectorAll(".content-section");

            links.forEach((link) => {
                link.addEventListener("click", function (e) {
                    e.preventDefault();
                    links.forEach((l) => l.classList.remove("active"));
                    this.classList.add("active");

                    sections.forEach((s) => s.classList.add("d-none"));
                    const targetId = this.dataset.target;
                    const targetSection = document.getElementById(targetId);
                    if (targetSection) targetSection.classList.remove("d-none");
                });
            });
        </script>
    </body>
</html>
